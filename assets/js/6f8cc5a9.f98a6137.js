"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5965],{3905:(e,t,a)=>{a.d(t,{Zo:()=>h,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),l=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},h=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,h=s(e,["components","mdxType","originalType","parentName"]),d=l(a),p=r,m=d["".concat(c,".").concat(p)]||d[p]||u[p]||o;return a?n.createElement(m,i(i({ref:t},h),{},{components:a})):n.createElement(m,i({ref:t},h))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[d]="string"==typeof e?e:r,i[1]=s;for(var l=2;l<o;l++)i[l]=a[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},69301:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var n=a(87462),r=(a(67294),a(3905));const o={},i="Timelock Strategy",s={unversionedId:"transaction-prevention/timelock-strategy",id:"transaction-prevention/timelock-strategy",title:"Timelock Strategy",description:"Introduction",source:"@site/docs/transaction-prevention/timelock-strategy.md",sourceDirName:"transaction-prevention",slug:"/transaction-prevention/timelock-strategy",permalink:"/hashdit/docs/transaction-prevention/timelock-strategy",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Introduction",permalink:"/hashdit/docs/transaction-prevention/introduction"},next:{title:"Guardian Strategy",permalink:"/hashdit/docs/transaction-prevention/guardian-strategy"}},c={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Integration",id:"integration",level:2},{value:"Advantages &amp; Limitations",id:"advantages--limitations",level:2},{value:"Advantages",id:"advantages",level:3},{value:"Limitations",id:"limitations",level:3},{value:"Real-world Use Case Example",id:"real-world-use-case-example",level:2}],h={toc:l};function d(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},h,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"timelock-strategy"},"Timelock Strategy"),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"The Timelock strategy is suitable for some basic transfer scenarios. For example, the withdrawal of the staking contract, the transfer of the token contract, the deposit of the farm contract, etc. However, it cannot be applied to more complex scenarios such as token swaps.\nThe basic assumption of the Timelock strategy is that when the user calls the project contract to transfer the money, if the involved fund size triggers the threshold preset by the project party, the funds will be automatically transferred to the Timelock contract. Before the end of the lock time set by the project team, the project team has the right to manage the funds, including freeze/withdraw/unfreeze. HashDit displays the risk level of the transaction through the supporting front-end webpage, which is derived from the risk database accumulated by HashDit. The project team can refer to the transaction risk rating of HashDit to make corresponding disposals. If no action is taken on their end during the locked period,, the funds will be automatically unlocked as soon as the lock time expires, and users can claim their own funds."),(0,r.kt)("p",null,"The Timelock strategy is of great significance for protecting some hackers' transfer operations.\nThe following two diagrams illustrate the different execution processes between normal transactions and malicious transactions."),(0,r.kt)("p",null,"For Normal Transaction:"),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(26452).Z,width:"624",height:"239"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Step 1: The user initiates a fund withdrawal by submitting a transaction to the project smart contract."),(0,r.kt)("li",{parentName:"ul"},"Step 2: When the transaction amount triggers the threshold preset by the project team, the funds are transferred to the Timelock contract."),(0,r.kt)("li",{parentName:"ul"},"Step 3: The project team did not make any disposal of the transaction funds, because the HashDit frontend page shows that the transaction has a low risk rating. When the lock time is up, the funds are automatically unlocked, and the user claims the funds to the Timelock contract, and the withdrawal is completed.")),(0,r.kt)("p",null,"For Malicious Transaction:"),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(59352).Z,width:"624",height:"272"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Step 1: The user initiates a fund withdrawal by submitting a transaction to the project smart contract."),(0,r.kt)("li",{parentName:"ul"},"Step 2: When the transaction amount triggers the threshold preset by the project team, the funds are transferred to the Timelock contract."),(0,r.kt)("li",{parentName:"ul"},"Step 3: Because the HashDit frontend indicated that the recipient's address in this transaction was on the blacklist and tagged as 'hacker', the project team identified this as a hacking transaction. Consequently, they executed the freeze method in the Timelock contract to freeze the funds."),(0,r.kt)("li",{parentName:"ul"},"Step 4: The project team calls another privileged function in Timelock, claim, to withdraw the funds to a secure account. This money hackers will not be able to get.")),(0,r.kt)("h2",{id:"integration"},"Integration"),(0,r.kt)("p",null,"The integration process is not complex; all it requires is using our SDK to incorporate the invocation logic from the lock functions in the Timelock smart contract into the project's smart contract."),(0,r.kt)("h2",{id:"advantages--limitations"},"Advantages & Limitations"),(0,r.kt)("h3",{id:"advantages"},"Advantages"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Deployment is simple and straightforward. As long as the customer integrates and utilizes our SDK in the project, the financial guarantee can be realized.")),(0,r.kt)("h3",{id:"limitations"},"Limitations"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"This strategy is only suitable for simple and direct transfer logic, and is not suitable for more complex fund transfer scenarios such as swap tokens.\xa0"),(0,r.kt)("li",{parentName:"ol"},"It is not possible to perform all operations in a single transaction; It requires at least two separate transactions.")),(0,r.kt)("h2",{id:"real-world-use-case-example"},"Real-world Use Case Example"),(0,r.kt)("p",null,"Take the real-world case of the UvToken being compromised, for example. The UvTokenWallet Eco Staking pool contract was hacked; the key reason for the vulnerability is that the withdrawal function in pool contract did not strictly judge user input, leading to an attacker directly passing in a malicious contract address and using it to drain the relevant funds. Subsequently, the hacker transferred a total of 5,011 BNB to Tornado Cash. Moreover, the transaction fees for the attack also came from Tornado Cash.\nThis hacking event could have been intercepted by our Timelock strategy. When the hacker attempted to drain the staking contract and the transfer amount exceeded the threshold, the hacked funds would have been transferred into the Timelock contract. Control over these funds would then revert to the project party.\nThe Timelock strategy can effectively intercept such simple transfer scenarios of being hacked, regardless of how complex the vulnerabilities utilized by the attacking method are."))}d.isMDXComponent=!0},26452:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/2-27f996f2c36a786f19ed9cc0b340c649.png"},59352:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/3-3a9dbf119f0a421e1982f572b602e4ab.png"}}]);