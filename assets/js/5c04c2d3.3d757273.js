"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7398],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var c=n.createContext({}),l=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=l(a),f=i,m=p["".concat(c,".").concat(f)]||p[f]||h[f]||r;return a?n.createElement(m,o(o({ref:t},d),{},{components:a})):n.createElement(m,o({ref:t},d))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=f;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[p]="string"==typeof e?e:i,o[1]=s;for(var l=2;l<r;l++)o[l]=a[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}f.displayName="MDXCreateElement"},80369:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var n=a(87462),i=(a(67294),a(3905));const r={slug:"monthly-incident-sharing-feb-2024",title:"Monthly Incident Sharing - February 2024",authors:["Sebastian"],tags:["Feb","Incidents","Sharing",2024]},o=void 0,s={permalink:"/hashdit/blog/monthly-incident-sharing-feb-2024",source:"@site/blog/2024-03-14/2024-03-14.md",title:"Monthly Incident Sharing - February 2024",description:"Monthly Incident Sharing (Feb 2024)",date:"2024-03-14T00:00:00.000Z",formattedDate:"March 14, 2024",tags:[{label:"Feb",permalink:"/hashdit/blog/tags/feb"},{label:"Incidents",permalink:"/hashdit/blog/tags/incidents"},{label:"Sharing",permalink:"/hashdit/blog/tags/sharing"},{label:"2024",permalink:"/hashdit/blog/tags/2024"}],readingTime:4.455,hasTruncateMarker:!1,authors:[{name:"Sebastian Lim",title:"SCS@HashDit",url:"https://github.com/slim115",imageURL:"https://github.com/slim115.png",key:"Sebastian"}],frontMatter:{slug:"monthly-incident-sharing-feb-2024",title:"Monthly Incident Sharing - February 2024",authors:["Sebastian"],tags:["Feb","Incidents","Sharing","2024"]},prevItem:{title:"Meme Education Guide",permalink:"/hashdit/blog/meme-education-guide"},nextItem:{title:"HashDit API Integration",permalink:"/hashdit/blog/api-integration"}},c={authorsImageUrls:[void 0]},l=[{value:"Monthly Incident Sharing (Feb 2024)",id:"monthly-incident-sharing-feb-2024",level:2},{value:"Introduction",id:"introduction",level:3},{value:"Top 5 DApps incidents",id:"top-5-dapps-incidents",level:3},{value:"PlayDapp - $30m - Private Key Compromise",id:"playdapp---30m---private-key-compromise",level:4},{value:"Ronin Network\u2019s Jihoz - $10m - Private Key Compromise",id:"ronin-networks-jihoz---10m---private-key-compromise",level:4},{value:"Shido - $3.3m - Private Key Compromise",id:"shido---33m---private-key-compromise",level:4},{value:"Seneca - $3.1m - Lack of Validation",id:"seneca---31m---lack-of-validation",level:4},{value:"BlueberryFDN - $1.6m - Oracle Misconfiguration",id:"blueberryfdn---16m---oracle-misconfiguration",level:4},{value:"Key lessons for developers",id:"key-lessons-for-developers",level:3}],d={toc:l};function p(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("div",{align:"justify"},(0,i.kt)("h2",{id:"monthly-incident-sharing-feb-2024"},"Monthly Incident Sharing (Feb 2024)"),(0,i.kt)("h3",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"In this monthly series, HashDit is sharing the monthly security incidents in the crypto space and what we can learn from them. For this Feb 2024 edition, the total losses mounted up to $132 million, showing a 141% increase compared to February 2023. "),(0,i.kt)("p",null,"Of which, they are split across 3 sections: DApps ($65m), CEXs ($62m) and Phishing ($5m)."),(0,i.kt)("p",null,"In this sharing, we focus on the DApps incidents. Below are the top 5 DApps incidents that DApp Developers should pay attention to."),(0,i.kt)("h3",{id:"top-5-dapps-incidents"},"Top 5 DApps incidents"),(0,i.kt)("h4",{id:"playdapp---30m---private-key-compromise"},"PlayDapp - $30m - Private Key Compromise"),(0,i.kt)("p",null,"PlayDapp is a GameFi and Web3 Service protocol. In this attack, the hacker was able to compromise the original Minter account. As such, a malicious minter account was added and he minted 200m $PLA tokens, before dumping them on the open market."),(0,i.kt)("p",null,"Since then, the token transfer method has been paused and the token is planning to be migrated to a new address $PDA."),(0,i.kt)("p",null,"Root cause: The hacker was able to compromise the private key of the original Minter account. It is unclear if it was an internal or external attack."),(0,i.kt)("p",null,"Onchain information:"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/tx/0xe834f28377b79759ac5495a91975a01e0876af9aae312228c1ac525846406170"},"Add Malicious Minter tx")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/tx/0xe8be05f6a3360f63b9e78a30b4ba16ea4c7d0b530a8abf99390f1c831851fb7e"},"Malicious Mint tx")),(0,i.kt)("p",null,"Vulnerable code snippet:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IMG-1",src:a(104).Z,width:"2120",height:"932"}),"\n",(0,i.kt)("img",{alt:"IMG-2",src:a(81785).Z,width:"2576",height:"334"})),(0,i.kt)("h4",{id:"ronin-networks-jihoz---10m---private-key-compromise"},"Ronin Network\u2019s Jihoz - $10m - Private Key Compromise"),(0,i.kt)("p",null,"Ronin Network is a bridge protocol allowing cross chain of funds. In this attack, Ronin Network\u2019s cofounder Jihoz had his wallet compromised. However, the attack is limited to only personal accounts, and does not affect operations of Sky Mavis and the Ronin chain."),(0,i.kt)("p",null,"Root cause: The hacker was able to compromise the private key of Jihoz\u2019s wallet. As such, his assets were stolen from there."),(0,i.kt)("p",null,"Onchain information:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Ronin:\n",(0,i.kt)("a",{parentName:"p",href:"https://app.roninchain.com/tx/0x206bc24404b66f9a4424c7515bd6da92ce95640fae66fe217784a0edd71334dd"},"https://app.roninchain.com/tx/0x206bc24404b66f9a4424c7515bd6da92ce95640fae66fe217784a0edd71334dd"),"\n",(0,i.kt)("a",{parentName:"p",href:"https://app.roninchain.com/tx/0x93977df7f34204a88ed12ddb591e2e58a0aad6edfd009ca6db4491e14f9f38d9"},"https://app.roninchain.com/tx/0x93977df7f34204a88ed12ddb591e2e58a0aad6edfd009ca6db4491e14f9f38d9"),"\n",(0,i.kt)("a",{parentName:"p",href:"https://app.roninchain.com/tx/0x9784ad2501cff282fa98a87272a9ac4379170fb80a2da92e5c7195fa5af274f1"},"https://app.roninchain.com/tx/0x9784ad2501cff282fa98a87272a9ac4379170fb80a2da92e5c7195fa5af274f1"),"\n",(0,i.kt)("a",{parentName:"p",href:"https://app.roninchain.com/tx/0x7fb315e8c27d78f6a3c4bd812b2afcf0b3b3e80fd36c8db3ab3d0e9dfa58c291"},"https://app.roninchain.com/tx/0x7fb315e8c27d78f6a3c4bd812b2afcf0b3b3e80fd36c8db3ab3d0e9dfa58c291")," ")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Ethereum:\n",(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/tx/0x4962a88dfd49e49d3df0f290ae7d4b73632b2afc943a7ea5c2ee45140de7ad93"},"https://etherscan.io/tx/0x4962a88dfd49e49d3df0f290ae7d4b73632b2afc943a7ea5c2ee45140de7ad93"),"\n",(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/tx/0x517dac8e59ca0d5e7017323a75dd732b2d48b07c9de20c2bfcaf1cee22cd7d7b"},"https://etherscan.io/tx/0x517dac8e59ca0d5e7017323a75dd732b2d48b07c9de20c2bfcaf1cee22cd7d7b"),"\n",(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/tx/0x5cd2b28d70b79d7f1d92f7273234f2a4ce3b153731ef44dffedac425de311201"},"https://etherscan.io/tx/0x5cd2b28d70b79d7f1d92f7273234f2a4ce3b153731ef44dffedac425de311201"),"\n",(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/tx/0xcdd35d3c3a1b584dfa86732a61d5f42f6c5b0c03c6805ccd97294c6f1a0163f5"},"https://etherscan.io/tx/0xcdd35d3c3a1b584dfa86732a61d5f42f6c5b0c03c6805ccd97294c6f1a0163f5")," "))),(0,i.kt)("p",null,"Vulnerable code snippet:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IMG-3",src:a(49417).Z,width:"2726",height:"286"}),"\n",(0,i.kt)("img",{alt:"IMG-4",src:a(46874).Z,width:"2732",height:"690"}),"\n",(0,i.kt)("img",{alt:"IMG-5",src:a(28630).Z,width:"2606",height:"602"})),(0,i.kt)("h4",{id:"shido---33m---private-key-compromise"},"Shido - $3.3m - Private Key Compromise"),(0,i.kt)("p",null,"Shido is a L1 blockchain protocol which combines the interoperability of Cosmos, and the development power of EVM and WASM. In this attack, the attacker was able to compromise the StakingV4Proxy owner's wallet on Ethereum, upgrading to a malicious logic, withdrawing $SHIDO tokens and dumping them on the open market. "),(0,i.kt)("p",null,"Root cause: The hacker was able to compromise the private key of StakingV4Proxy\u2019s owner wallet. It is unclear if it was an internal or external attack."),(0,i.kt)("p",null,"After transferring ownership to a malicious owner, he immediately upgrades the StakingV4Proxy contract with a malicious withdrawToken() function that withdraws all $SHIDO tokens from the contract."),(0,i.kt)("p",null,"Onchain information:"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/tx/0xaa76ea503fadddf775b1ef7f195676440fdc3ac46ab642798ab6fa7ae3aafcbe"},"StakingV4Proxy owner transfer tx")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/tx/0x5d4056cdf40d09a6715fd0f26895d0c60038899b45620f0a6a402c4cd425b672"},"StakingV4Proxy upgrade tx")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/tx/0xed3000ddd8b4feb0902107f97a91815ecee8d7ccb57de9a9dbc50a4c07593cb3"},"Withdraw all $SHIDO tokens tx")),(0,i.kt)("p",null,"Vulnerable code snippet:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IMG-6",src:a(43025).Z,width:"2652",height:"404"}),"\n",(0,i.kt)("img",{alt:"IMG-7",src:a(4782).Z,width:"2632",height:"308"})),(0,i.kt)("h4",{id:"seneca---31m---lack-of-validation"},"Seneca - $3.1m - Lack of Validation"),(0,i.kt)("p",null,"Seneca Protocol is a DeFi lending platform and stablecoin issuer. In this attack, the attacker was able to compromise approximately 1,385 PT-Kelp rsETH from a Seneca collateral pool. He subsequently swapped these tokens for approximately $3 million worth of ETH."),(0,i.kt)("p",null,"Root cause: There is a lack of validation check for the user input data in the performOperations() function. This bug allows any account to call the function while specifying OPERATION_CALL as the action to be performed, allowing an exploiter to arbitrarily invoke external calls to steal funds from approving users."),(0,i.kt)("p",null,"Onchain information:"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/tx/0x6da8f7cb19d6e56cd9b74298677986b3b55cb9db902175c2627b7d57a85e820d"},"Hack tx on Ethereum")," "),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://arbiscan.io/tx/0x5e9c14e30ff1d56da37c17d84378650881095bda2802f0a0bff90fd3a8b11e31"},"Hack tx on Arbitrum")),(0,i.kt)("p",null,"Vulnerable code snippet:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IMG-8",src:a(6177).Z,width:"2430",height:"1068"}),"\n",(0,i.kt)("img",{alt:"IMG-9",src:a(40531).Z,width:"2336",height:"522"}),"\n",(0,i.kt)("img",{alt:"IMG-10",src:a(74667).Z,width:"2174",height:"1516"})),(0,i.kt)("h4",{id:"blueberryfdn---16m---oracle-misconfiguration"},"BlueberryFDN - $1.6m - Oracle Misconfiguration"),(0,i.kt)("p",null,"BlueberryFDN is a DeFi protocol which allows lending and borrowing of funds across chains. In this instance, the attack was front-runned by a whitehat, c0ffeebabe.eth. The vulnerability was due to the lending contract's incorrect handling of price decimals. As such, the attacker was able to borrow all the liquidity of three lending pools (OHM, USDC, WBTC) with extremely low collateral, since the assets borrowed are under-estimated, due to the non-normalized price."),(0,i.kt)("p",null,"Root cause: There was an incorrect usage of the oracle because the oracle always returns prices scaled to 18 decimals, thus causing assets that have less than 18 decimals to be undervalued significantly when being borrowed. "),(0,i.kt)("p",null,"On Ethereum, WETH has a decimal of 18, OHM has a decimal of 9, USDC has a decimal of 6, and WBTC has a decimal of 8. Since BlueberryProtocol\u2019s price oracle scales all token prices based on a decimal of 18, this caused the value of OHM to shrink by 1e9, USDC by 1e12, and WBTC by 1e10. As a result, the attacker managed to borrow assets worth 460 ETH by only collateralizing 1 ETH."),(0,i.kt)("p",null,"Onchain information: "),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/tx/0xf0464b01d962f714eee9d4392b2494524d0e10ce3eb3723873afd1346b8b06e4"},"Hack tx")," "),(0,i.kt)("p",null,"Code snippet:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IMG-11",src:a(48131).Z,width:"2642",height:"832"})),(0,i.kt)("h3",{id:"key-lessons-for-developers"},"Key lessons for developers"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Keys should be properly secured, rotated regularly and have some level of decentralization. Adopt a ",(0,i.kt)("strong",{parentName:"li"},"zero-trust model"),".\nConduct proper background checks for new employees in view of insider compromises.")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Validation is important - ",(0,i.kt)("strong",{parentName:"li"},"ensure all possible user inputs are checked for state changing")," methods. This is especially true for calldata parameters where attackers can craft any data and when the protocol contract handles users\u2019 approvals.")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Proper handling of decimals in different tokens used in the protocol is fundamental, particularly when calculating token price values. Furthermore, guaranteeing that the ",(0,i.kt)("strong",{parentName:"li"},"price oracles used in the protocol are normalized to the expected decimals")," is critical. Price oracles provide current and accurate token prices, thus any discrepancies might lead to significant errors in token pricing and overall system operations.")),(0,i.kt)("p",null,"Feel free to contact us at ",(0,i.kt)("a",{parentName:"p",href:"mailto:support@hashdit.io"},"support@hashdit.io")," for any support needed! Stay safe!")))}p.isMDXComponent=!0},104:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/1-877f2ba8ce7b99ca53676ecb80f1ae96.png"},74667:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/10-8d3cf31b44e81d8543a5b53cc2192582.png"},48131:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/11-fce0279a97edea4b1994c2ddf7c184c0.png"},81785:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/2-e67662453bba0da903a5be24a576d7a7.png"},49417:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/3-0a745f34dbef177c0e430ba2e38252ec.png"},46874:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/4-530bfcfaf95d6f2275c6b7a73f7658a4.png"},28630:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/5-9adf222ab6a695c3cc3f876a5715389a.png"},43025:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/6-3b158c73922c403041b20db3f9300103.png"},4782:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/7-a11f05a485c6c0ed583db87e799e3918.png"},6177:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/8-3c767dd51b9d0691b02af3f68e1a7081.png"},40531:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/9-6571e15fb952268225972ae02cc57d06.png"}}]);